[printcfg]
enabled: True
led_name: _sb_leds
park_x: 150
park_y: 150
extra_fans: nevermore, bed_fans, exhaust_fan

[saved_states]

[gcode_macro test_states]
gcode:
    QUERY_STATE
    see_states

[gcode_macro see_states]
gcode:
    { action_respond_info( "States: {}".format( printer.saved_states.states|string ) ) }

    {% if "Test" in printer.saved_states.states %}
        { action_respond_info( "'Test' state was found in saved states" ) }
        {% if printer.saved_states.states['Test'].absolute_coord == True %}
            { action_respond_info( "Absolute" ) }
        {% else %}
            { action_respond_info( "Relative" ) }
        {% endif %}
    {% else %}
        { action_respond_info( "State was not found" ) }
    {% endif %}

[gcode_shell_command get_date]
value_datetime: 0
command: bash /home/pi/printer_data/config/scripts/get_date.sh
success:
    {action_respond_info("datetime=%s" % datetime)}

[gcode_macro show_date]
gcode:
    RUN_SHELL_COMMAND CMD=get_date